dev (support watch schema) :

DEBUG="graphile-build-pg,postgraphile:postgres,postgraphile:postgres:error" postgraphile -j -N --no-ignore-rbac -c postgresql://postgres:musicbot@localhost:5432/musicbot_prod -n 0.0.0.0 -p 5000 --schema musicbot_public --default-role musicbot_anonymous --jwt-token-identifier musicbot_public.jwt_token --jwt-secret buckethead_bot --show-error-stack --watch

prod (static schema) :

postgraphile -j -N --no-ignore-rbac -c postgresql://musicbot_postgraphile:musicbot_postgraphile_password@localhost:5432/musicbot_prod -n 0.0.0.0 -p 5001 --schema musicbot_public --default-role musicbot_anonymous --jwt-token-identifier musicbot_public.jwt_token --jwt-secret buckethead_bot --disable-query-log

examples :

mutation
{
  registerUser(input: {firstName: "Foo", lastName: "Bar", email: "test@new.com", password: "123456"})
  {
    user
    {
      id,
      firstName,
      lastName,
      createdAt,
      updatedAt
    }
  }
}

mutation
{
  authenticate(input: {email: "test@new.com", password: "123456"})
  {
    jwtToken
  }
}

{
  currentMusicbot
  {
    id,
    firstName
  }
}

{
  allRawMusics {
    edges {
      node {
        id
      }
    }
  }
}

mutation {
  deleteUserById(input: {id: 10}){
    clientMutationId
  }
}
