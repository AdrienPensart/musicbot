<!doctype html>
<html>
<head>
    <title>HyperEdge</title>
    <link rel="stylesheet" href="https://unpkg.com/tabulator-tables/dist/css/tabulator.min.css">
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables/dist/js/tabulator.min.js"></script>
</head>
    <body>
        <div id="artist_output" />
    </body>
    <script>
        var edgeql_data = function(url, params, response){return response.data;}
        var table = new Tabulator("#artist_output", {
            ajaxURL: "http://51.79.24.206:10701/db/edgedb/edgeql",
            ajaxConfig: "POST",
            ajaxContentType: "json",
            ajaxParams: {"query": "select artists {*}"},
            ajaxResponse: edgeql_data,
            layout: "fitDataStretch",
            pagination: true,
            paginationSize: 50,
            columns:[
                {title: "Name", field: "name"},
                {title: "Rating", titleFormatter: "star", field: "rating", formatter: "star"},
                {title: "Rating", field: "rating"},
                {title: "Duration", field: "human_duration"},
                {title: "Size", field: "human_size"},
                {title: "Genres", field: "all_genres", formatter: "textarea"},
                {title: "Albums", field: "n_albums"},
                {title: "Musics", field: "n_musics"},
                {title: "Keywords", field: "all_keywords", formatter: "textarea"},
            ],
        });
        table.on("rowClick", function(e, row){
            var data = row.getData();
        });
    </script>
</html>
